---
layout: posts
title: Proper upgrade testing
---

h2. <a href="{{ page.url }}">{{ page.title }}</a>

h4. {{ page.date | date_to_long_string }}

<p>
	Plasma has a non-trivial database: multiple tables which while can't just be dropped and recreated for every database upgrade. 
</p>
<p>
	I'm pretty particular about what changes go into the schema and how I will test it so when I added multiple acccount support I ran into some siginifcant issues (will be followed up with in another blog post).
</p>

<p>
	One of the errors I introduced was a bad upgrade. I wrote a manual update sql statement, which was wrong. This led to the user's previous account details being lost and having to re-add them. 